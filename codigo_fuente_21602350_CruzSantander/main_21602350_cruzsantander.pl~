:- consult('TDA_fecha.pl').
:- consult('TDA_usuario.pl').
:- consult('TDA_libro.pl').
:- consult('TDA_prestamo.pl').
:- consult('TDA_biblioteca.pl').


crearUsuario(IDUsuario, Nombre, U) :-
    U = [ id(IDUsuario),
                nombre(Nombre),
                deuda(0),
                libros([]),
                estado(activo)
             ].

crearLibro(IDLibro, Titulo, Autor,L ) :-
    atom_string(TituloAtom, Titulo),
    atom_string(AutorAtom, Autor),

    atom_lower(TituloAtom, TituloLower),
    atom_lower(AutorAtom, AutorLower),
    L = [ id(IDLibro),
                titulo(TituloLower),
                autor(AutorLower),
                estado(disponible)
             ].


crearPrestamo(ID, IDUsuario, IDLibro, FechaPrestamo, DiasSolicitados, P) :-
    P = [id(ID),
         idUsuario(IDUsuario),
         idLibro(IDLibro),
         fechaPrestamo(FechaPrestamo),
         diasSolicitados(DiasSolicitados)
        ].

crearBiblioteca(Libros, Usuarios, Prestamos, MaxLibros, DiasMax, TasaMulta, LimiteDeuda, DiasRetraso, FechaInicial, B) :-
    B= [libros(Libros),
        usuarios(Usuarios),
        prestamos(Prestamos),
        maxLibros(MaxLibros),
        diasMax(DiasMax),
        tasaMulta(TasaMulta),
        limiteDeuda(LimiteDeuda),
        diasRetraso(DiasRetraso),
        fechaInicial(FechaInicial)
       ].





